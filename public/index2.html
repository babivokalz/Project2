<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <title>Chores Checklist</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
      integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <!-- Header Text. -->

    <div class="row header">
      <div class="col-sm-2">Logo goes here</div>
      <div class="col-sm-3"></div>
      <div class="col-sm-1" id="family">Families</div>
      <div class="col-sm-2" id="chores">My Chores</div>
      <div class="col-sm-1" id="forum">Forum</div>
      <div class="col-sm-1"></div>
      <div class="col-sm-2" id="login-header">
        <button
          type="button"
          class="btn btn-primary"
          id="loginButton"
          data-toggle="modal"
          data-target="#loginModal"
        >
          Login
        </button>
      </div>
    </div>

    <!-- Modals -->
    <!---Login Modal-->
    <div
      class="modal fade"
      id="loginModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="loginModalLabel">Sign in</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <label for="username">Username</label>
            <input id="username" placeholder="Username" /> <br />
            <label for="password">Password</label>
            <input id="password" placeholder="*******" /> <br />
            <p>Create New Account</p>
            <button id="submitLogin" class="btn btn-primary">Login</button>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <!--Create Family Modal-->
    <div
      class="modal fade"
      id="createFamilyModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="FamilyModalLabel">
              Create New Household
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <label for="family-name">New Household Name</label><br />
            <input id="family-name" placeholder="Desired Family Name" /> <br />
            <label for="password">Password</label><br />
            <input id="password" placeholder="*******" /> <br />
            <button id="submitFamilyGroup" class="btn btn-primary">
              Create New Group
            </button>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <!--Join Family Modal-->
    <div
      class="modal fade"
      id="joinFamilyModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="joinModalLabel">
              Join Family Group
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <label for="family-name">Household Name</label><br />
            <input id="family-name" placeholder="Sample" /> <br />
            <label for="password">Password (if required)</label><br />
            <input id="password" placeholder="" /> <br />
            <button id="joinFamilyGroup" class="btn btn-primary">
              Join Group
            </button>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!---Assignment Modal--->
    <div
      class="modal fade"
      id="assignmentModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="assignmentModalLabel">
              Assign Tasks
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="assignmentModalBody"></div>
          <div class="modal-footer">
            <button class="btn btn-primary" id="assignBtn">
              Assign Chores
            </button>
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <!---Main Jumbotron + Content Div-->
    <div class="row">
      <div class="col-sm-1"></div>
      <div class="col-sm-10">
        <div class="jumbotron row">
          <div class="col-sm-1"></div>
          <!---The Main content-div-->
          <div class="col-sm-10 content-div">
            <h1>Welcome to Family Chore Planner Thingy</h1>
            <br />
            <h2>What is Family Chore Planner Thingy?</h2>
            <br />
            <p>
              Family Chore Planner Thingy (working title) is a website deisgned
              to help families and work groups delegate tasks among their
              members. Users will be able to create groups, set up objectives,
              create and assign tasks amongst themselves, and also chat with
              staff and other users through our forums. Guests are only able to
              browse the forums. Membership is completely free of charge. Sign
              up now and get started!
            </p>
            <button class="btn btn-primary" id="get-started">
              Get Started!
            </button>
            <button class="btn btn-primary" id="forumRedirect">
              Browse the Forums
            </button>
          </div>
        </div>
      </div>
      <div class="col-sm-1"></div>
    </div>
  </body>
</html>

<script>
  //Forums Page layout
  function forum() {
    $(".content-div").empty();
    $(".content-div").append("<h1>Family App Forums</h1>");
    var searchDiv = $("<div class='form-group'></div>");
    var searchBar = $(
      "<input id='searchField' placeholder='Search the Forums'></input>"
    );
    searchDiv.append(searchBar);
    searchDiv.append("<button class='btn btn-primary' id='forumSearch'>Search");
    $(".content-div").append(searchDiv);
    $(".content-div").append("<div class='row threadHolder'></div>");
  }

  function threadMaker() {
    var threadContainer = $("<div id='thread-container'>");
    threadContainer.append(
      "<div class='thread' id='rulesThread'><h4>Forum Rules</h4><p>By Admin</p></div>"
    );
    $(".content-div").append(threadContainer);
    $("#rulesThread").on("click", function() {
      $(".content-div").empty();
      var threadContainer = $("<div id='thread-container'>");
      threadContainer.append(
        "<div class='thread thread-opened' id='thread1'><h4>Forum Rules</h4><ul><li>Don't be a Jerk.</li><li>Keep it family friendly.</li></ul><br><br><p>-Admin</p>"
      );
      $(".content-div").append(threadContainer);
    });
  }

  $("#rulesThread").on("click", function() {
    $(".content-div").empty();
    var threadContainer = $("<div id='thread-container'>");
    threadContainer.append(
      "<div class='thread-open' id='thread1'><h4>Forum Rules</h4><ul><li>Don't be a Jerk.</li><li>Keep it family friendly.</li></ul><br><br>"
    );
    threadContainer.append("<p>-Admin</p>");
    $(".content-div").append(threadContainer);
  });
  //On Click Redirects to Forums Page
  $("#forum").on("click", function() {
    forum();
    threadMaker();
  });

  $("#forumRedirect").on("click", function() {
    forum();
    threadMaker();
  });

  //Chores
  $("#chores").on("click", function() {
    $(".content-div").empty();
    $(".content-div").append(
      "<p>This feature is for registered users only. The chores feature allows a user to access a list of tasks assigned to them from their family/work groups. Membership is free, so sign up now to begin using this awesome feature! Check out the sample down below."
    );
    $(".content-div").append(
      "<select id='exampleChoresDropdown'><option value='all'>All Groups</option><option value='mom'>Mom</option>"
    );
    var choresDiv = $("<div id='chores-div'></div>");
    $(".content-div").append(choresDiv);
    choresDiv.append("<h3>Assigned by Mom from Family Group</h3>");
    var sampleChoresList = $("<ol>");
    sampleChoresList.append(
      "<li data-complete='false'><p id='task1'>Clean your room</p> <form id='task-radio1'><input type='radio' name='task1' value='Completed'>Completed</input><br></form></li>"
    );
    sampleChoresList.append(
      "<li data-complete='false'><p id='task2'>Walk the dog </p><form id='task-radio2'><input type='radio' name='task2' value='Completed'>Completed</input><br></form></li>"
    );
    sampleChoresList.append(
      "<li data-complete='false'><p id='task3'>Take out the trash </p><form  id='task-radio3'><input type='radio' name='task3' value='Completed'>Completed</input><br></form></li>"
    );
    var submitChanges = $(
      "<button class='btn btn-primary' id='choresUpdate'>Submit Changes</button>"
    );
    sampleChoresList.append(submitChanges);
    choresDiv.append(sampleChoresList);
  });

  $(document).on("click", "#choresUpdate", function() {
    var task1 = $("input[name=task1]").prop("checked");
    var task2 = $("input[name=task2]").prop("checked");
    var task3 = $("input[name=task3]").prop("checked");
    console.log(task1);

    if (task1 == true) {
      $("#task-radio1").remove();
      $("#task1").attr("style", "text-decoration-line: line-through");
    }

    if (task2 == true) {
      $("#task-radio2").remove();
      $("#task2").attr("style", "text-decoration-line: line-through");
    }

    if (task3 == true) {
      $("#task-radio3").remove();
      $("#task3").attr("style", "text-decoration-line: line-through");
    }
  });

  //Family/HouseholdPage
  $("#family").on("click", function() {
    $(".content-div").empty();
    var familyDiv = $("<div id='family-div'></div>");
    familyDiv.append(
      "<p>In order to assign and be assigned tasks, users must be part of a family group. A family group only requires one user, so solo 'family groups' are possible. Members of family groups assign chores to be done daily, weekly, monthly, annually, or however they wish. Members can invite others to their family group. Once a family group is created, the user is automatically put into the group."
    );
    familyDiv.append(
      "<button type='button' class='btn btn-primary' id='create-family' data-toggle='modal' data-target='#createFamilyModal'>Create Family</button><br>"
    );
    familyDiv.append(
      "<button class='btn btn-primary' id='existing-family' data-toggle='modal' data-target='#joinFamilyModal'>Join Existing Family</button>"
    );
    $(".content-div").append(familyDiv);
  });

  //Sample Family
  $("#joinFamilyGroup").on("click", function() {
    $("#sampleHousehold").remove();
    var familyGroup = $("<div id='sampleHousehold'>");
    var familyDiv = $("<div class='householdGroup id='group1'>");
    var sampleMembers = ["Mom", "Dad", "Bob", "Barbara", "You"];
    var sampleChores = [
      "Do the dishes",
      "Sweep the house",
      "Clean the oven",
      "Take out the trash"
    ];
    familyDiv.append("<h3>Sample Household</h3>");
    familyDiv.append("<h4>Members<h4>");
    //Function that sets up members in a group.
    memberList = $("<ul id='#sampleMemberHolder'>");
    for (var i = 0; i < sampleMembers.length; i++) {
      event.preventDefault();
      var intermediate = $(
        `<li id='${sampleMembers[i]}'>${sampleMembers[i]}</li>`
      );
      memberList.append(intermediate);
    }
    memberList.append("</ul>");
    familyDiv.append(memberList);
    //Function that sets up chores and lists them as unassigned
    var sampleChoresListed = $("<ul id='sampleChoresHolder'>");
    for (var j = 0; j < sampleChores.length; j++) {
      event.preventDefault();
      var intermediate = $(
        `<li id='task${[j]}'><p class='sampleChores'>${
          sampleChores[j]
        }</p></li>`
      );
      sampleChoresListed.append(intermediate);
    }

    familyDiv.append("<h4>Unassigned Chores</h4>");
    familyDiv.append(sampleChoresListed);
    var buttonAssign = $(
      "<button id='assignButton' class= 'btn btn-primary' data-toggle='modal' data-target='#assignmentModal'>Assign</button>"
    );
    $(document).on("click", "#assignButton", function() {
      $("#assignmentModalBody").empty();
      var choresLabel = $(
        "<label for='choresToAssign'>Chores To Assign</label> <br>"
      );
      $("#assignmentModalBody").append(choresLabel);
      for (var i = 0; i < sampleChores.length; i++) {
        var intermediate = $(
          `<input type='checkbox' name='${sampleChores[i]}' class='householdChores' value='${sampleChores[i]}'>${sampleChores[i]}</input><br>`
        );
        $("#assignmentModalBody").append(intermediate);
      }
      $("#assignmentModalBody").append(
        "<label for='assignTo'>Assign To: </label><br>"
      );
      for (var j = 0; j < sampleMembers.length; j++) {
        var intermediate = $(
          `<input type='checkbox' class='household' name='${sampleMembers[j]}' value='${sampleMembers[j]}'>${sampleMembers[j]}</input><br>`
        );
        $("#assignmentModalBody").append(intermediate);
      }
      //assignBtn
      $(document).on("click", "#assignBtn", function() {
        var choreArray = [];
        var memberArray = [];

        for (var i = 0; i < sampleChores.length; i++) {
          var choresToAssign = $(`input[name='${sampleChores[i]}']`);
          if (choresToAssign.prop("checked") == true) {
            console.log(choresToAssign.val());
            choreArray.push(choresToAssign.val());
          }
        }
        for (var z = 0; z < sampleMembers.length; z++) {
          var assignedTo = $(`input[name='${sampleMembers[z]}']`);
          if (assignedTo.prop("checked") == true) {
            console.log(assignedTo.val());
            memberArray.push(assignedTo.val());
            console.log(memberArray);
            console.log(choreArray);
          }
        }
        for (var y = 0; y < memberArray.length; y++) {
          for (var x = 0; x < choreArray.length; x++) {
            $(`#${memberArray[y]}`).append(`<p>${choreArray[x]}</p>`);
          }
        }
      });
    });
    //assignBtn
    var newChore = $(
      "<button class='btn btn-primary' id='newChoreBtn'>Create New Chores</button>"
    );
    familyDiv.append(buttonAssign);
    familyDiv.append("<br><label for='newChore'>Create New Chore</label><br>");
    familyDiv.append("<input id='newChore'></input><br>");
    familyDiv.append(newChore);
    $(document).on("click", "#newChoreBtn", function() {
      var newTask = $("#newChore").val();
      sampleChores.push(newTask);
      $("#sampleChoresHolder").append(
        `<li id='${newTask}'><p>${newTask}</p></li>`
      );
    });

    familyGroup.append(familyDiv);
    $(".content-div").append(familyGroup);
  });
</script>
